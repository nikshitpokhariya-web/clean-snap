<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rewards & Recognition - Clean City Initiative</title>
  <!-- Tailwind CSS for styling -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Google Fonts: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Applying the Inter font family */
    body {
      font-family: 'Inter', sans-serif;
    }

    /* Using the same custom gradient for consistency */
    .bg-custom-gradient {
      background-image: linear-gradient(to bottom, #FDBF68, #EAF2E2, #A8D8B9);
    }

    /* Custom styles for disabled button */
    .btn-disabled {
      background-color: #9ca3af;
      /* gray-400 */
      cursor: not-allowed;
      opacity: 0.7;
    }
  </style>
</head>

<body class="bg-custom-gradient min-h-screen">

  <!-- Header -->
  <header class="bg-white/30 backdrop-blur-md p-4 shadow-md">
    <div class="max-w-7xl mx-auto flex justify-between items-center">
      <a href="#" class="text-xl font-bold text-gray-800 tracking-wider">CLEAN CITY MANDATE</a>
      <div id="user-info" class="text-right">
        <!-- User info will be injected by JS -->
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">

    <!-- Points Display Section -->
    <div class="bg-white/80 backdrop-blur-md p-8 rounded-2xl shadow-lg text-center mb-12">
      <h1 class="text-2xl font-semibold text-gray-600">Your Civic Points Balance</h1>
      <p id="user-points" class="text-7xl font-bold text-gray-900 mt-2">0</p>
      <p class="text-gray-500 mt-2">Thank you for your contribution to our city's well-being.</p>
    </div>

    <!-- Rewards Grid -->
    <div class="text-center mb-8">
      <h2 class="text-3xl font-bold text-gray-800">Redeem Your Rewards</h2>
      <p class="mt-1 text-gray-600">Use your points to claim these exclusive honors.</p>
    </div>

    <div id="rewards-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Reward cards will be dynamically inserted here by JavaScript -->
    </div>

  </main>

  <script>
    // --- MOCK DATA ---
    // In a real application, this data would come from your backend.
    const currentUser = {
      name: 'Priyanshu Goswami',
      points: 7590 // We'll start with some points to see how the buttons work
    };

    const rewards = [
      {
        id: 1,
        name: 'Civic Champion E-Certificate',
        cost: 250,
        description: 'A personalized digital certificate recognizing your outstanding contribution to the city.',
        icon: <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" /></svg>
      },
      {
        id: 2,
        name: 'Plant a Tree in Your Name',
        cost: 800,
        description: 'We will plant a native tree in a city park and dedicate it with a small plaque in your name.',
        icon: <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /><path d="M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="none" /><path stroke-linecap="round" stroke-linejoin="round" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" transform="scale(0.8) translate(3, 3)" stroke="none" /><path d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" transform="scale(0.5) translate(12, 10)" /></svg>
      },
      {
        id: 3,
        name: 'Official Initiative T-Shirt',
        cost: 1200,
        description: 'Receive an exclusive, high-quality T-shirt, available only to our top citizen contributors.',
        icon: <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" transform="scale(0.9) translate(1,1)" /><path d="M9 12h6" /></svg>
      }
    ];

    // --- DOM Element References ---
    const userInfo = document.getElementById('user-info');
    const userPointsDisplay = document.getElementById('user-points');
    const rewardsGrid = document.getElementById('rewards-grid');

    // --- RENDER FUNCTIONS ---

    function renderUserInfo() {
      userInfo.innerHTML = `
                <p class="font-semibold text-gray-800">${currentUser.name}</p>
                <a href="#" class="text-sm text-gray-600 hover:underline">Sign Out</a>
            `;
      userPointsDisplay.textContent = currentUser.points;
    }

    function renderRewards() {
      rewardsGrid.innerHTML = ''; // Clear existing rewards
      rewards.forEach(reward => {
        const canAfford = currentUser.points >= reward.cost;

        const card = document.createElement('div');
        card.className = 'bg-white/90 backdrop-blur-sm p-6 rounded-xl shadow-lg flex flex-col items-center text-center transition-transform duration-300 hover:scale-105';

        card.innerHTML = `
                    <div class="mb-4">
                        ${reward.icon}
                    </div>
                    <h3 class="text-xl font-bold text-gray-900">${reward.name}</h3>
                    <p class="text-gray-500 mt-2 flex-grow">${reward.description}</p>
                    <div class="my-4">
                        <span class="text-2xl font-bold text-[#26A69A]">${reward.cost}</span>
                        <span class="text-gray-600"> points</span>
                    </div>
                    <button 
                        data-reward-id="${reward.id}"
                        class="redeem-btn w-full py-2 px-4 rounded-lg font-semibold text-white transition-colors ${canAfford ? 'bg-[#26A69A] hover:bg-[#208a7f]' : 'btn-disabled'}"
                        ${!canAfford ? 'disabled' : ''}
                    >
                        ${canAfford ? 'Redeem' : 'Not Enough Points'}
                    </button>
                `;
        rewardsGrid.appendChild(card);
      });

      // Add event listeners after cards are rendered
      addRedeemListeners();
    }

    // --- EVENT HANDLING ---

    function handleRedeem(event) {
      const rewardId = parseInt(event.target.dataset.rewardId);
      const reward = rewards.find(r => r.id === rewardId);

      if (currentUser.points >= reward.cost) {
        // In a real app, you would send a request to the backend here.
        currentUser.points -= reward.cost;

        alert('Congratulations! You have successfully redeemed "${reward.name}". Your new balance is ${currentUser.points} points.');

        // Re-render everything to update the UI
        renderUserInfo();
        renderRewards();
      } else {
        alert("You do not have enough points to redeem this reward.");
      }
    }

    function addRedeemListeners() {
      document.querySelectorAll('.redeem-btn').forEach(button => {
        if (!button.disabled) {
          button.addEventListener('click', handleRedeem);
        }
      });
    }

    // --- INITIALIZATION ---
    function initializePage() {
      renderUserInfo();
      renderRewards();
    }

    initializePage();

  </script>
</body>

</html>